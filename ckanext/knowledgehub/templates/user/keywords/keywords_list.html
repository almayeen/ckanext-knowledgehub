{% resource 'knowledgehub/table' %}
{% resource 'knowledgehub/javascript/table_pagination.js' %}

{% extends "user/read_base.html" %}

{% block primary_content_inner %}

<div class="container-fluid">
    <div class="row">
        <div class="col-sm-8">
            <h3>{{ _('Keywords') }}</h3>
        </div>
        <div class="col-sm-4">
            <a href="{{ h.url('/user/keywords/new') }}" class="btn btn-primary pull-right">
                <i class="fa fa-plus-square"></i> {{_('Create Keyword') }}</a>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <table id="intents" class="table table-hover dataTables_wrapper" cellspacing="0" width="100%">
                <thead>
                    <td>{{ _('Keyword') }}</td>
                    <td>{{ _('Tags') }}</td>
                    <td>{{ _('Manage') }}</td>
                    <td>{{ _('Remove') }}</td>
                </thead>
                <tbody>
                    {% for keyword in keywords%}
                    <tr>
                        <td><a href="{{ h.url_for('.keyword_read', id=keyword.name) }}">{{ keyword.name }}</a></td>
                        <td>
                            {% for tag in keyword.tags%}
                            <span class="label label-info">{{ tag.display_name }}</span>
                            {% endfor%}
                        </td>
                        <td>
                            <a  class="btn btn-default"
                                href="{{ h.url_for('.keyword_update_read', id=keyword.name) }}">
                                <i class="fa fa-wrench"></i>
                                {{ _('Manage') }}
                            </a>
                        </td>
                        <td>
                            <a class="btn btn-danger pull-left"  
                            data-module="confirm-action" 
                            data-module-content="{{ _('Are you sure you want to delete this keyword?') }}"
                            href="{{ h.url_for('.keyword_delete', id=keyword.id) }}">
                                <i class="fa fa-trash"></i>
                                {{ _('Remove') }}
                            </a>
                        </td>
                    </tr>
                    {% endfor%}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
